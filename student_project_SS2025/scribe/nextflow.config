/*
 * Nextflow configuration for SCRIBE pipeline
 */

/*
 * ================================
 * Original nextflow.config
 * (kept as comment for reference)
 * ================================
 */

/*
process {
  executor = 'local'
  errorStrategy = 'retry'
  maxRetries = 1

  // memory allocations
  withName:run_scribe {
    time = '24h'
    memory = '13 GB'   
  }

  withName:convert_h5ad_to_scribe {
    memory = '4 GB'    
  }

  withName:aggregate_edges {
    memory = '2 GB'
  }
}

timeline {
  enabled = true
}

trace {
  enabled = true
}

report {
  enabled = true
}
*/


/*
 * ================================
 * Updated nextflow.config
 * With container assignment
 * ================================
 */

process {
  executor = 'local'
  errorStrategy = 'retry'
  maxRetries = 1

  //  Seqera container image here 
  container = 'community.wave.seqera.io/library/anndata_h5py_numpy_pandas:1bc78c1c3448c395'

  // memory allocations
  withName:run_scribe {
    time = '24h'
    memory = '13 GB'
  }

  withName:convert_h5ad_to_scribe {
    memory = '4 GB'
  }

  withName:aggregate_edges {
    memory = '2 GB'
  }
}

timeline { enabled = true }
trace   { enabled = true }
report  { enabled = true }

